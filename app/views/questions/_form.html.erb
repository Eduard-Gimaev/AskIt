<div class="container mt-4">
  <div class="row">
    <div class="col-md-8 offset-md-2">
      <div class="card">
        <div class="card-header">
          <h2 class="card-title"><%= @question.persisted? ? "Edit Question" : "New Question" %></h2>
        </div>
        <div class="card-body">
          <%= render 'shared/errors', resource: @question %>       
          <%= form_with model: @question, local: true, class: "needs-validation" do |f| %>
            <div class="mb-3">
              <%= f.label :title, class: "form-label" %>
              <%= f.text_field :title, class: "form-control #{'is-invalid' if @question.errors[:title].any?}", placeholder: "Enter the title" %>
              <% if @question.errors[:title].any? %>
                <div class="invalid-feedback">
                  <% @question.errors.full_messages_for(:title).each do |message| %>
                    <%= message %><br>
                  <% end %>
                </div>
              <% end %>
            </div>
            <div class="mb-3">
              <%= f.label :body, class: "form-label" %>
              <%= f.text_area :body, class: "form-control #{'is-invalid' if @question.errors[:body].any?}", placeholder: "Enter the details of your question" %>
              <% if @question.errors[:body].any? %>
                <div class="invalid-feedback">
                  <% @question.errors.full_messages_for(:body).each do |message| %>
                    <%= message %><br>
                  <% end %>
                </div>
              <% end %>
            </div>
            <div class="d-grid gap-2">
              <%= f.submit @question.persisted? ? "Edit Question" : "Submit Question", class: "btn btn-primary btn-block" %>
            </div>
          <% end %>
          <div class="mt-3">
            <%= link_to 'Back', questions_path, class: 'btn btn-secondary' %>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>